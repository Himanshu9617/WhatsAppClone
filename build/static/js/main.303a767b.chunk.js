(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,a,t){},105:function(e,a,t){"use strict";t.r(a);var n=t(2),c=t.n(n),l=t(64),r=t.n(l),m=(t(82),t(54)),s=t(3),u=t(13),o=t(125),i=t(123),d=t(89),E=t.n(d),b=t(53),p=t.n(b),h=t(88),f=t.n(h),v=t(69),j=t.n(v),O=t(95),g=t.n(O),N=t(70),_=t.n(N),S=t(96),w=t.n(S),y=(t(84),t(67)),k=t(20),C=t(41),I=Object(y.a)({apiKey:"AIzaSyDfPDz5SHo6v7M2BpkqaND5QnFqmSzcbMg",authDomain:"whatsappclone-93844.firebaseapp.com",projectId:"whatsappclone-93844",storageBucket:"whatsappclone-93844.appspot.com",messagingSenderId:"764799554509",appId:"1:764799554509:web:a8090878c9bb110a152a84"}),x=Object(k.d)(I),D=Object(C.b)(I),R=new C.a,A=x,L=(t(106),Object(n.createContext)()),M=function(e){var a=e.reducer,t=e.initialState,l=e.children;return c.a.createElement(L.Provider,{value:Object(n.useReducer)(a,t)},l)},T=function(){return Object(n.useContext)(L)};var U=function(){var e=Object(s.g)().roomId,a=Object(n.useState)([]),t=Object(u.a)(a,2),l=t[0],r=t[1],m=Object(n.useState)([]),d=Object(u.a)(m,2),b=d[0],h=d[1],v=Object(n.useState)(""),O=Object(u.a)(v,2),N=O[0],S=O[1],y=T(),C=Object(u.a)(y,2),I=C[0].user;return C[1],Object(n.useEffect)(function(){Object(k.c)(Object(k.b)(A,"rooms")).then(function(a){a.forEach(function(a){a.id===e&&r(a._document.data.value.mapValue.fields.name.stringValue)})});var a=Object(k.g)(Object(k.b)(A,"rooms/".concat(e),"message"),Object(k.f)("timestamp","asc"));Object(k.e)(a,function(e){h(e.docs.map(function(e){return e.data()}))})},[e]),c.a.createElement("div",{className:"chat"},c.a.createElement("div",{className:"chat_header"},c.a.createElement(o.a,null),c.a.createElement("div",{className:"chat_headerInfo"},c.a.createElement("h3",null,l)),c.a.createElement("div",{className:"header_right"},c.a.createElement(i.a,null,c.a.createElement(j.a,null)),c.a.createElement(i.a,null,c.a.createElement(f.a,null)),c.a.createElement(i.a,null,c.a.createElement(p.a,null)),c.a.createElement(i.a,null,c.a.createElement(E.a,null)))),c.a.createElement("div",{className:"chat_body"},b.map(function(e){return c.a.createElement("p",{key:10*Math.random(),className:"chat_message ".concat(I.displayName===e.name&&"chat_sent")},c.a.createElement("span",{className:"chat_name"},"".concat(e.name).split(" ")[0]),e.message)})),c.a.createElement("div",{className:"chat_footer"},c.a.createElement(i.a,null,c.a.createElement(g.a,null)),c.a.createElement(i.a,null,c.a.createElement(_.a,null)),c.a.createElement("form",{onSubmit:function(a){if(a.preventDefault(),""===N)return alert("No message");Object(k.a)(Object(k.b)(A,"rooms/".concat(e,"/"),"message"),{name:I.displayName,message:N,timestamp:new Date}),S("")}},c.a.createElement("input",{type:"text",value:N,placeholder:"Type a message",onChange:function(e){return S(e.target.value)}}),c.a.createElement("input",{type:"submit"})),c.a.createElement(i.a,null,c.a.createElement(w.a,null))))},z=t(71);t(101);var B=function(){var e=T(),a=Object(u.a)(e,2);Object(z.a)(a[0]);var t=a[1];return c.a.createElement("div",{className:"login_class"},c.a.createElement("div",{className:"login"},c.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg",className:"login_img"}),c.a.createElement("h2",null,"Sign in to WhatsApp"),c.a.createElement("button",{onClick:function(){Object(C.c)(D,R).then(function(e){t({type:"SET_USER",user:e.user})}).catch(function(e){return alert("error")})}},"Login with Gmail")))},P=t(72),W=t.n(P),q=t(90),F=t.n(q),J=t(73),V=t.n(J);t(63);var G=function(e){var a=e.id,t=e.name;return e.addnewchat?c.a.createElement("div",{className:"sidebar_chat",onClick:function(){var e=prompt("Please enter group name.");e&&Object(k.a)(Object(k.b)(A,"rooms"),{name:e})}},c.a.createElement("h3",null,"Start a new chat")):c.a.createElement(m.b,{to:"/room/".concat(a),className:"sidebar_link_chat"},c.a.createElement("div",{className:"sidebar_chat"},c.a.createElement(o.a,null),c.a.createElement("div",{className:"sidebar_chat_info"},c.a.createElement("h3",null,t))))};var H=function(){var e=Object(n.useState)([]),a=Object(u.a)(e,2),t=a[0],l=a[1],r=T(),m=Object(u.a)(r,2),s=m[0].user,d=(m[1],Object(n.useState)("")),E=Object(u.a)(d,2),b=E[0],h=E[1];return Object(n.useEffect)(function(){return Object(k.e)(Object(k.b)(A,"rooms"),function(e){l(e.docs.map(function(e){return{data:e.data(),id:e.id}}))})},[]),c.a.createElement("div",{className:"sidebar"},c.a.createElement("div",{className:"sidebar_header"},c.a.createElement(o.a,{src:s.photoURL,onClick:function(e){return Object(C.d)(D)}}),c.a.createElement("div",{className:"sidebar_header_right"},c.a.createElement(i.a,null,c.a.createElement(W.a,null)),c.a.createElement(i.a,null,c.a.createElement(F.a,null)),c.a.createElement(i.a,null,c.a.createElement(V.a,null)))),c.a.createElement("div",{className:"sidebar_search"},c.a.createElement("div",{className:"search_cont"},c.a.createElement(p.a,null),c.a.createElement("input",{type:"text",value:b,onChange:function(e){h(e.target.value)},placeholder:"Search or start a new chat"}))),c.a.createElement("div",{className:"sidebar_constant"},c.a.createElement("div",{className:"sidebar_chats"},c.a.createElement(G,{addnewchat:!0}),t.filter(function(e){return"".concat(e.data.name).toLowerCase().startsWith(b.toLowerCase())}).map(function(e){return c.a.createElement(G,{key:e.id,id:e.id,name:e.data.name})}))))};var K=function(){var e=T(),a=Object(u.a)(e,2),t=a[0].user,l=a[1];return Object(n.useEffect)(function(){D.onAuthStateChanged(function(e){l({type:"SET_USER",user:e})})},[]),c.a.createElement(c.a.Fragment,null,t?c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"app_body"},c.a.createElement(H,null),c.a.createElement(U,null))):c.a.createElement(B,null))};var Q=function(){return c.a.createElement(m.a,null,c.a.createElement(s.c,null,c.a.createElement(s.a,{exact:!0,path:"/",element:c.a.createElement(K,null)}),c.a.createElement(s.a,{path:"/room/:roomId",element:c.a.createElement(K,null)}),c.a.createElement(s.a,{path:"/login",element:c.a.createElement("login",null)})))},X=t(52),Y=function(e,a){switch(a.type){case"SET_USER":return Object(X.a)({},e,{user:a.user});default:return e}};r.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(M,{initialState:{user:null},reducer:Y},c.a.createElement(Q,null))))},63:function(e,a,t){},74:function(e,a,t){e.exports=t(105)},82:function(e,a,t){},84:function(e,a,t){}},[[74,2,1]]]);
//# sourceMappingURL=main.303a767b.chunk.js.map